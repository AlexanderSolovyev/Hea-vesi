<!--
  Generated template for the SettingsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar [hideBackButton]="!form.valid || (storageservice.deliveryAddresses.length==0)">
    <ion-title>settings</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="outer-content">

  <ion-list >
    <ion-list-header>Profile</ion-list-header>
    <form (ngSubmit)="saveProfile(form)" #form="ngForm">
      <ion-item>
        <ion-icon name="archive" color="primary"item-start></ion-icon>
        <ion-label color="primary" floating>Reg number</ion-label>
        <ion-input type="text"
                   [(ngModel)]="data.reg_number"
                   name="reg_number"
                   readonly
        >

        </ion-input>
      </ion-item>
      <ion-item>
        <ion-icon name="person" color="primary" item-start></ion-icon>
        <ion-label color="primary" floating>Nimi</ion-label>
        <ion-input type="text"
                   [(ngModel)]="data.name"
                   name="name"
                   required
                   readonly
        >

        </ion-input>
      </ion-item>
      <ion-item>
        <ion-icon name="call" color="primary" item-start></ion-icon>
        <ion-label color="primary" floating>Telefon</ion-label>
        <ion-input type="tel"
                   required
                   [(ngModel)]="data.phone"
                   name="phone"
                   readonly
        >

        </ion-input>
      </ion-item>

      <ion-item>
        <ion-icon name="mail" color="primary" item-start></ion-icon>
        <ion-label color="primary" floating>Email</ion-label>
        <ion-input type="email"
                   [(ngModel)]="data.email"
                   name="email"
                   required
                   readonly
                   >

        </ion-input>
      </ion-item>

    </form>
  </ion-list>

  <ion-list>
    <ion-list-header>Addresses</ion-list-header>
  <form (ngSubmit)="addAddress(form1)" #form1="ngForm">
    <ion-item>
      <ion-label color="primary" floating>Input new adress</ion-label>
      <ion-icon name="home" color="primary" item-start></ion-icon>
      <ion-input
                  type="text"
                 [(ngModel)]="ulitsa"
                 name="adress"
                 required
      >

      </ion-input>
    </ion-item>
    <ion-item>
      <ion-icon name="" color="primary" item-start></ion-icon>
      <ion-label floating color="primary"> Select city</ion-label>
      <ion-select [(ngModel)]="city"
                  name="city"
                  required
      >

        <ion-option selected="true">Tallinn ja Harjumaa</ion-option>
        <ion-option>Tartu</ion-option>
        <ion-option>Jõhvi</ion-option>
        <ion-option>Narva</ion-option>
        <ion-option>Kohtla-Järve</ion-option>
        <ion-option>Sillamäe</ion-option>
        <ion-option>Rakvere</ion-option>
      </ion-select>

    </ion-item>
      <button ion-button  color="secondary" full type="submit" [disabled]="!form1.valid">Add address</button>

  </form>

      <ion-item *ngFor="let address of storageservice.deliveryAddresses;index as i" >
         {{address}}
          <ion-icon name="ios-remove-circle" color="danger" item-start (click)="decAddress(i)"></ion-icon>
      </ion-item>
  </ion-list>






</ion-content>
